# æ³•çš„å¯¾å¿œãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ä½“åˆ¶

## 1. åˆ©ç”¨è¦ç´„ (Terms of Service)

### 1.1 åˆ©ç”¨è¦ç´„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

#### public/legal/terms-of-service.md
```markdown
# é‡èœç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  åˆ©ç”¨è¦ç´„

**æœ€çµ‚æ›´æ–°æ—¥**: 2024å¹´8æœˆ9æ—¥  
**ç™ºåŠ¹æ—¥**: 2024å¹´8æœˆ9æ—¥

## ç¬¬1æ¡ï¼ˆé©ç”¨ï¼‰
1. æœ¬åˆ©ç”¨è¦ç´„ï¼ˆä»¥ä¸‹ã€Œæœ¬è¦ç´„ã€ï¼‰ã¯ã€[ä¼šç¤¾å]ï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ï¼‰ãŒæä¾›ã™ã‚‹ã€Œé‡èœç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã€ï¼ˆä»¥ä¸‹ã€Œæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã€ï¼‰ã®åˆ©ç”¨æ¡ä»¶ã‚’å®šã‚ã‚‹ã‚‚ã®ã§ã™ã€‚
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€æœ¬è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚

## ç¬¬2æ¡ï¼ˆåˆ©ç”¨ç™»éŒ²ï¼‰
1. åˆ©ç”¨ç™»éŒ²ã¯ã€åˆ©ç”¨å¸Œæœ›è€…ãŒæœ¬è¦ç´„ã«åŒæ„ã®ä¸Šã€æ‰€å®šã®æ–¹æ³•ã§ç”³è¾¼ã¿ã‚’è¡Œã„ã€å½“ç¤¾ãŒã“ã‚Œã‚’æ‰¿èªã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å®Œäº†ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
2. å½“ç¤¾ã¯ã€ä»¥ä¸‹ã®å ´åˆã«ã¯åˆ©ç”¨ç™»éŒ²ã®ç”³è¾¼ã¿ã‚’æ‰¿èªã—ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ï¼š
   - ç”³è¾¼ã¿ã«è™šå½ã®äº‹é …ã‚’è¨˜è¼‰ã—ãŸå ´åˆ
   - éå»ã«æœ¬è¦ç´„é•åã«ã‚ˆã‚Šåˆ©ç”¨åœæ­¢å‡¦åˆ†ã‚’å—ã‘ãŸå ´åˆ
   - ãã®ä»–ã€å½“ç¤¾ãŒåˆ©ç”¨ç™»éŒ²ã‚’é©å½“ã§ãªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆ

## ç¬¬3æ¡ï¼ˆç¦æ­¢äº‹é …ï¼‰
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®è¡Œç‚ºã‚’ã—ã¦ã¯ãªã‚Šã¾ã›ã‚“ï¼š

1. **æŠ€è¡“çš„ç¦æ­¢äº‹é …**
   - ã‚·ã‚¹ãƒ†ãƒ ã«è² è·ã‚’ã‹ã‘ã‚‹è¡Œç‚º
   - ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚„æ”»æ’ƒçš„è¡Œç‚º
   - ãƒªãƒãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°

2. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–¢é€£ç¦æ­¢äº‹é …**
   - è™šå½æƒ…å ±ã®ç™»éŒ²ãƒ»å…¬é–‹
   - ç¬¬ä¸‰è€…ã®æ¨©åˆ©ã‚’ä¾µå®³ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŠ•ç¨¿
   - å…¬åºè‰¯ä¿—ã«åã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŠ•ç¨¿

3. **å–¶æ¥­æ´»å‹•é–¢é€£ç¦æ­¢äº‹é …**
   - ç„¡æ–­ã§ã®å•†ç”¨åˆ©ç”¨
   - ç¬¬ä¸‰è€…ã¸ã®å†è²©ãƒ»è»¢å£²
   - ç«¶åˆã‚µãƒ¼ãƒ“ã‚¹ã§ã®æƒ…å ±åˆ©ç”¨

## ç¬¬4æ¡ï¼ˆå€‹äººæƒ…å ±ãƒ»ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šæ‰±ã„ï¼‰
1. å€‹äººæƒ…å ±ã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦ã¯ã€åˆ¥é€”å®šã‚ã‚‹ã€Œãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€ã«å¾“ã„ã¾ã™ã€‚
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«å…¥åŠ›ãƒ»æŠ•ç¨¿ã—ãŸãƒ‡ãƒ¼ã‚¿ï¼ˆé‡èœæƒ…å ±ã€å†™çœŸç­‰ï¼‰ã«ã¤ã„ã¦ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¸°å±ã—ã¾ã™ã€‚
3. å½“ç¤¾ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹æä¾›ã«å¿…è¦ãªç¯„å›²ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ç¬¬5æ¡ï¼ˆçŸ¥çš„è²¡ç”£æ¨©ï¼‰
1. æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹çŸ¥çš„è²¡ç”£æ¨©ã¯ã€å½“ç¤¾ã«å¸°å±ã—ã¾ã™ã€‚
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ˆã‚Šã€å½“ç¤¾ã®çŸ¥çš„è²¡ç”£æ¨©ã«ã¤ã„ã¦é€šå¸¸ä½¿ç”¨æ¨©ã‚’å–å¾—ã—ã¾ã™ã€‚

## ç¬¬6æ¡ï¼ˆå…è²¬ãƒ»æå®³è³ å„Ÿï¼‰
1. **ã‚·ã‚¹ãƒ†ãƒ éšœå®³**: å½“ç¤¾ã¯ã€ã‚·ã‚¹ãƒ†ãƒ éšœå®³ã«ã‚ˆã‚‹æå®³ã«ã¤ã„ã¦è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚
2. **ãƒ‡ãƒ¼ã‚¿æå¤±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€é‡è¦ãªãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦é©åˆ‡ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¡Œã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚
3. **é–“æ¥æå®³**: å½“ç¤¾ã¯ã€é–“æ¥æå®³ã€é€¸å¤±åˆ©ç›Šã«ã¤ã„ã¦è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚

## ç¬¬7æ¡ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ã®å¤‰æ›´ãƒ»çµ‚äº†ï¼‰
1. å½“ç¤¾ã¯ã€äº‹å‰é€šçŸ¥ã«ã‚ˆã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å…¨éƒ¨ã¾ãŸã¯ä¸€éƒ¨ã‚’å¤‰æ›´ãƒ»çµ‚äº†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
2. ã‚µãƒ¼ãƒ“ã‚¹çµ‚äº†ã®å ´åˆã€å½“ç¤¾ã¯30æ—¥å‰ã¾ã§ã«é€šçŸ¥ã‚’è¡Œã„ã¾ã™ã€‚

## ç¬¬8æ¡ï¼ˆæº–æ‹ æ³•ãƒ»ç®¡è½„è£åˆ¤æ‰€ï¼‰
1. æœ¬è¦ç´„ã¯ã€æ—¥æœ¬æ³•ã«æº–æ‹ ã—ã¾ã™ã€‚
2. æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹ç´›äº‰ã«ã¤ã„ã¦ã¯ã€æ±äº¬åœ°æ–¹è£åˆ¤æ‰€ã‚’ç¬¬ä¸€å¯©ã®å°‚å±çš„åˆæ„ç®¡è½„è£åˆ¤æ‰€ã¨ã—ã¾ã™ã€‚

---

**ãŠå•ã„åˆã‚ã›**  
ã€’100-0001 æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1  
[ä¼šç¤¾å]  
ãƒ¡ãƒ¼ãƒ«: legal@vegetable-system.com  
é›»è©±: 03-1234-5678
```

### 1.2 åˆ©ç”¨è¦ç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

#### lib/legal/terms-manager.ts
```typescript
// åˆ©ç”¨è¦ç´„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
export interface TermsVersion {
  version: string
  effectiveDate: string
  content: string
  changes: string[]
  requiresReaccept: boolean
}

export interface UserAcceptance {
  userId: string
  termsVersion: string
  acceptedAt: string
  ipAddress: string
  userAgent: string
}

export class TermsOfServiceManager {
  private static readonly CURRENT_VERSION = '1.0'
  
  // åˆ©ç”¨è¦ç´„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
  static async getCurrentTerms(): Promise<TermsVersion> {
    const { data } = await supabase
      .from('terms_versions')
      .select('*')
      .eq('is_current', true)
      .single()
    
    return data
  }

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„çŠ¶æ³ç¢ºèª
  static async checkUserAcceptance(userId: string): Promise<{
    accepted: boolean
    requiresNewAccept: boolean
    currentVersion: string
    userVersion?: string
  }> {
    const [currentTerms, userAcceptance] = await Promise.all([
      this.getCurrentTerms(),
      this.getUserAcceptance(userId)
    ])

    if (!userAcceptance) {
      return {
        accepted: false,
        requiresNewAccept: true,
        currentVersion: currentTerms.version
      }
    }

    const requiresNewAccept = currentTerms.version !== userAcceptance.termsVersion ||
                              currentTerms.requiresReaccept

    return {
      accepted: !requiresNewAccept,
      requiresNewAccept,
      currentVersion: currentTerms.version,
      userVersion: userAcceptance.termsVersion
    }
  }

  // åˆ©ç”¨è¦ç´„åŒæ„è¨˜éŒ²
  static async recordAcceptance(
    userId: string, 
    termsVersion: string,
    ipAddress: string,
    userAgent: string
  ): Promise<void> {
    const acceptance: UserAcceptance = {
      userId,
      termsVersion,
      acceptedAt: new Date().toISOString(),
      ipAddress,
      userAgent
    }

    await supabase
      .from('user_term_acceptances')
      .insert(acceptance)

    // æ³•çš„è¦ä»¶ã®ãŸã‚ã€ä¸å¤‰ãƒ­ã‚°ã¨ã—ã¦è¨˜éŒ²
    await this.recordLegalAuditLog('terms_accepted', userId, {
      termsVersion,
      timestamp: acceptance.acceptedAt,
      ipAddress,
      userAgent: userAgent.substring(0, 255) // é•·ã•åˆ¶é™
    })
  }

  // æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³å…¬é–‹
  static async publishNewTerms(
    content: string, 
    changes: string[],
    requiresReaccept: boolean = true
  ): Promise<string> {
    const newVersion = this.generateNewVersion()
    const effectiveDate = new Date()
    effectiveDate.setDate(effectiveDate.getDate() + 30) // 30æ—¥å¾Œç™ºåŠ¹

    // ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–
    await supabase
      .from('terms_versions')
      .update({ is_current: false })
      .eq('is_current', true)

    // æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä½œæˆ
    const { data } = await supabase
      .from('terms_versions')
      .insert({
        version: newVersion,
        content,
        changes,
        requires_reaccept: requiresReaccept,
        effective_date: effectiveDate.toISOString(),
        is_current: true,
        created_at: new Date().toISOString()
      })
      .select()
      .single()

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°
    if (requiresReaccept) {
      await this.scheduleUserNotifications(newVersion, effectiveDate)
    }

    return newVersion
  }

  // æ³•çš„ç›£æŸ»ãƒ­ã‚°è¨˜éŒ²
  private static async recordLegalAuditLog(
    action: string, 
    userId: string, 
    details: any
  ): Promise<void> {
    await supabase
      .from('legal_audit_logs')
      .insert({
        action,
        user_id: userId,
        details,
        timestamp: new Date().toISOString(),
        ip_address: details.ipAddress,
        user_agent: details.userAgent
      })
  }

  private static async getUserAcceptance(userId: string): Promise<UserAcceptance | null> {
    const { data } = await supabase
      .from('user_term_acceptances')
      .select('*')
      .eq('user_id', userId)
      .order('accepted_at', { ascending: false })
      .limit(1)
      .single()

    return data
  }

  private static generateNewVersion(): string {
    const current = this.CURRENT_VERSION
    const parts = current.split('.')
    const minor = parseInt(parts[1]) + 1
    return `${parts[0]}.${minor}`
  }

  private static async scheduleUserNotifications(
    version: string, 
    effectiveDate: Date
  ): Promise<void> {
    // é€šçŸ¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: 30æ—¥å‰ã€7æ—¥å‰ã€1æ—¥å‰
    const notifications = [
      { days: 30, type: 'announcement' },
      { days: 7, type: 'reminder' },
      { days: 1, type: 'final_notice' }
    ]

    for (const notification of notifications) {
      const sendDate = new Date(effectiveDate)
      sendDate.setDate(sendDate.getDate() - notification.days)

      await supabase
        .from('scheduled_notifications')
        .insert({
          type: 'terms_update',
          subtype: notification.type,
          scheduled_for: sendDate.toISOString(),
          metadata: { termsVersion: version, effectiveDate: effectiveDate.toISOString() }
        })
    }
  }
}
```

## 2. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼

### 2.1 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æ–‡æ›¸

#### public/legal/privacy-policy.md
```markdown
# ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼

**æœ€çµ‚æ›´æ–°æ—¥**: 2024å¹´8æœˆ9æ—¥  
**ç™ºåŠ¹æ—¥**: 2024å¹´8æœˆ9æ—¥

## 1. åŸºæœ¬æ–¹é‡
[ä¼šç¤¾å]ï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ï¼‰ã¯ã€é‡èœç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆä»¥ä¸‹ã€Œæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã€ï¼‰ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å€‹äººæƒ…å ±ã®é©åˆ‡ãªä¿è­·ã‚’é‡è¦ãªè²¬å‹™ã¨è€ƒãˆã€ä»¥ä¸‹ã®æ–¹é‡ã«åŸºã¥ã„ã¦å€‹äººæƒ…å ±ã‚’å–ã‚Šæ‰±ã„ã¾ã™ã€‚

## 2. å–å¾—ã™ã‚‹å€‹äººæƒ…å ±

### 2.1 ç›´æ¥å–å¾—ã™ã‚‹æƒ…å ±
| æƒ…å ±ã‚«ãƒ†ã‚´ãƒª | å…·ä½“çš„å†…å®¹ | å–å¾—ç›®çš„ |
|-------------|-----------|----------|
| **åŸºæœ¬æƒ…å ±** | æ°åã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€é›»è©±ç•ªå· | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã€æœ¬äººç¢ºèª |
| **ä¼æ¥­æƒ…å ±** | ä¼šç¤¾åã€ä½æ‰€ã€æ¥­ç¨® | ã‚µãƒ¼ãƒ“ã‚¹æä¾›ã€è«‹æ±‚å‡¦ç† |
| **è¾²æ¥­æƒ…å ±** | ä½œç‰©ãƒ‡ãƒ¼ã‚¿ã€æ ½åŸ¹è¨˜éŒ²ã€å†™çœŸ | ã‚µãƒ¼ãƒ“ã‚¹æ©Ÿèƒ½æä¾› |

### 2.2 è‡ªå‹•å–å¾—ã™ã‚‹æƒ…å ±
| æƒ…å ±ã‚«ãƒ†ã‚´ãƒª | å…·ä½“çš„å†…å®¹ | å–å¾—ç›®çš„ |
|-------------|-----------|----------|
| **æŠ€è¡“æƒ…å ±** | IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€Cookieã€ãƒ‡ãƒã‚¤ã‚¹æƒ…å ± | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ã‚µãƒ¼ãƒ“ã‚¹æ”¹å–„ |
| **åˆ©ç”¨æƒ…å ±** | ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã€æ“ä½œå±¥æ­´ | ã‚µãƒ¼ãƒ“ã‚¹æœ€é©åŒ–ã€ä¸æ­£æ¤œçŸ¥ |
| **ä½ç½®æƒ…å ±** | GPSåº§æ¨™ï¼ˆä»»æ„ï¼‰ | åœƒå ´ç®¡ç†ã€å¤©å€™æƒ…å ±é€£æº |

## 3. åˆ©ç”¨ç›®çš„

### 3.1 ä¸»è¦ãªåˆ©ç”¨ç›®çš„
1. **ã‚µãƒ¼ãƒ“ã‚¹æä¾›**: é‡èœç®¡ç†æ©Ÿèƒ½ã®æä¾›
2. **é¡§å®¢ç®¡ç†**: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã€è«‹æ±‚å‡¦ç†
3. **å“è³ªå‘ä¸Š**: ã‚µãƒ¼ãƒ“ã‚¹æ”¹å–„ã€æ–°æ©Ÿèƒ½é–‹ç™º
4. **å®‰å…¨ç®¡ç†**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¶­æŒã€ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹é˜²æ­¢

### 3.2 ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åˆ©ç”¨
- ãƒ¡ãƒ¼ãƒ«é…ä¿¡ã«ã‚ˆã‚‹æƒ…å ±æä¾›ï¼ˆã‚ªãƒ—ãƒˆã‚¤ãƒ³ï¼‰
- ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨çµ±è¨ˆã®ä½œæˆï¼ˆåŒ¿ååŒ–ï¼‰
- å¸‚å ´èª¿æŸ»ãƒ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã®å®Ÿæ–½ï¼ˆåŒæ„ãƒ™ãƒ¼ã‚¹ï¼‰

## 4. ç¬¬ä¸‰è€…æä¾›

### 4.1 åŒæ„ã«åŸºã¥ãæä¾›
ä»¥ä¸‹ã®å ´åˆã«é™ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„ã‚’å¾—ã¦ç¬¬ä¸‰è€…ã«æƒ…å ±ã‚’æä¾›ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ï¼š

| æä¾›å…ˆã‚«ãƒ†ã‚´ãƒª | æä¾›ã™ã‚‹æƒ…å ± | æä¾›ç›®çš„ |
|---------------|-------------|----------|
| **é€£æºã‚µãƒ¼ãƒ“ã‚¹** | å¿…è¦æœ€å°é™ã®æƒ…å ± | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº |
| **ç ”ç©¶æ©Ÿé–¢** | åŒ¿ååŒ–ãƒ‡ãƒ¼ã‚¿ | è¾²æ¥­æŠ€è¡“ç ”ç©¶ |
| **èªå®šãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼** | ä¼æ¥­æƒ…å ± | å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹ |

### 4.2 æ³•çš„ç¾©å‹™ã«ã‚ˆã‚‹æä¾›
- æ³•ä»¤ã«åŸºã¥ãé–‹ç¤ºè«‹æ±‚
- è£åˆ¤æ‰€ã®å‘½ä»¤
- è¡Œæ”¿æ©Ÿé–¢ã‹ã‚‰ã®è¦è«‹

## 5. ãƒ‡ãƒ¼ã‚¿ã®å›½éš›ç§»è»¢
æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ä»¥ä¸‹ã®å›½ãƒ»åœ°åŸŸã§ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’è¡Œã†å ´åˆãŒã‚ã‚Šã¾ã™ï¼š

### 5.1 ç§»è»¢å…ˆã¨ä¿è­·æªç½®
| å›½ãƒ»åœ°åŸŸ | ã‚µãƒ¼ãƒ“ã‚¹ | ä¿è­·æªç½® |
|---------|----------|----------|
| **ç±³å›½** | ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ© | æ¨™æº–å¥‘ç´„æ¡é …ã€èªå®šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ |
| **EU** | CDNãƒ»åˆ†æ | GDPRæº–æ‹ ã€é©åˆ‡æ€§æ±ºå®š |

### 5.2 ç§»è»¢ã®æ³•çš„æ ¹æ‹ 
- ååˆ†æ€§èªå®šã®ã‚ã‚‹å›½ãƒ»åœ°åŸŸã¸ã®ç§»è»¢
- æ¨™æº–å¥‘ç´„æ¡é …ï¼ˆSCCï¼‰ã«åŸºã¥ãç§»è»¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ˜ç¤ºçš„åŒæ„ã«åŸºã¥ãç§»è»¢

## 6. ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“

| ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ— | ä¿æŒæœŸé–“ | ä¿æŒç†ç”± |
|-------------|----------|----------|
| **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±** | åˆ©ç”¨çµ‚äº†ã‹ã‚‰3å¹´ | æ³•çš„ç¾©å‹™ã€ç´›äº‰å¯¾å¿œ |
| **è¾²æ¥­ãƒ‡ãƒ¼ã‚¿** | åˆ©ç”¨çµ‚äº†ã‹ã‚‰1å¹´ | ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| **ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿** | 90æ—¥ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€é‹ç”¨ç›£è¦– |
| **è«‹æ±‚ãƒ»æ±ºæ¸ˆæƒ…å ±** | 7å¹´ | æ³•çš„ç¾©å‹™ï¼ˆç¨æ³•ç­‰ï¼‰ |

## 7. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©åˆ©

### 7.1 GDPRå¯¾å¿œæ¨©åˆ©ï¼ˆEUå±…ä½è€…ï¼‰
| æ¨©åˆ© | å†…å®¹ | è¡Œä½¿æ–¹æ³• |
|------|------|----------|
| **ã‚¢ã‚¯ã‚»ã‚¹æ¨©** | å€‹äººãƒ‡ãƒ¼ã‚¿ã®é–‹ç¤ºè«‹æ±‚ | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ |
| **è¨‚æ­£æ¨©** | å€‹äººãƒ‡ãƒ¼ã‚¿ã®ä¿®æ­£è«‹æ±‚ | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¾ãŸã¯ç”³è«‹ |
| **å‰Šé™¤æ¨©** | å€‹äººãƒ‡ãƒ¼ã‚¿ã®æ¶ˆå»è«‹æ±‚ | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ |
| **åˆ¶é™æ¨©** | å‡¦ç†ã®åˆ¶é™è«‹æ±‚ | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ |
| **ãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£æ¨©** | ãƒ‡ãƒ¼ã‚¿ã®ç§»è»¢è«‹æ±‚ | ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ |
| **ç•°è­°æ¨©** | å‡¦ç†ã¸ã®ç•°è­°ç”³ç«‹ã¦ | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç”³è«‹ |

### 7.2 å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œæ¨©åˆ©ï¼ˆæ—¥æœ¬å±…ä½è€…ï¼‰
- å€‹äººæƒ…å ±ã®é–‹ç¤ºè«‹æ±‚
- å€‹äººæƒ…å ±ã®è¨‚æ­£ãƒ»è¿½åŠ ãƒ»å‰Šé™¤è«‹æ±‚
- å€‹äººæƒ…å ±ã®åˆ©ç”¨åœæ­¢ãƒ»æ¶ˆå»è«‹æ±‚
- ç¬¬ä¸‰è€…æä¾›ã®åœæ­¢è«‹æ±‚

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

### 8.1 æŠ€è¡“çš„å¯¾ç­–
- **æš—å·åŒ–**: ãƒ‡ãƒ¼ã‚¿è»¢é€æ™‚ãƒ»ä¿å­˜æ™‚ã®æš—å·åŒ–
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: æœ€å°æ¨©é™ã®åŸå‰‡ã€å¤šè¦ç´ èªè¨¼
- **ç›£è¦–**: 24æ™‚é–“ä½“åˆ¶ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

### 8.2 çµ„ç¹”çš„å¯¾ç­–
- **å¾“æ¥­å“¡æ•™è‚²**: å®šæœŸçš„ãªãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ç ”ä¿®
- **ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†**: å¾“æ¥­å“¡ã®æ¨©é™ç®¡ç†ãƒ»å®šæœŸè¦‹ç›´ã—
- **ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£äº‹æ•…å¯¾å¿œä½“åˆ¶
- **ç›£æŸ»**: ç¬¬ä¸‰è€…ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

## 9. ãƒ‡ãƒ¼ã‚¿ä¾µå®³æ™‚ã®å¯¾å¿œ
å€‹äººãƒ‡ãƒ¼ã‚¿ã®ä¾µå®³ãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

### 9.1 å†…éƒ¨å¯¾å¿œï¼ˆ72æ™‚é–“ä»¥å†…ï¼‰
1. ä¾µå®³ã®æ¤œçŸ¥ãƒ»è©•ä¾¡
2. å½±éŸ¿ç¯„å›²ã®ç‰¹å®š
3. å°ã˜è¾¼ã‚ãƒ»ä¿®å¾©æªç½®
4. ç›£ç£å½“å±€ã¸ã®å ±å‘Š

### 9.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ï¼ˆé…æ»ãªãï¼‰
- ä¾µå®³ã®æ¦‚è¦
- å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡
- äºˆæƒ³ã•ã‚Œã‚‹å½±éŸ¿
- å¯¾ç­–ãƒ»æ¨å¥¨æªç½®

## 10. å•ã„åˆã‚ã›ãƒ»è‹¦æƒ…å‡¦ç†

### 10.1 çª“å£æƒ…å ±
**å€‹äººæƒ…å ±ä¿è­·è²¬ä»»è€…**  
ã€’100-0001 æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1  
[ä¼šç¤¾å] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚ªãƒ•ã‚£ã‚¹  
ãƒ¡ãƒ¼ãƒ«: privacy@vegetable-system.com  
é›»è©±: 03-1234-5678ï¼ˆå¹³æ—¥9:00-18:00ï¼‰

### 10.2 å¤–éƒ¨ç›¸è«‡çª“å£
- **å€‹äººæƒ…å ±ä¿è­·å§”å“¡ä¼š** (https://www.ppc.go.jp/)
- **å›½æ°‘ç”Ÿæ´»ã‚»ãƒ³ã‚¿ãƒ¼** (https://www.kokusen.go.jp/)
- **EU: å„å›½ç›£ç£å½“å±€** (https://edpb.europa.eu/)

---

## æ”¹å®šå±¥æ­´
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°æ—¥ | ä¸»ãªå¤‰æ›´å†…å®¹ |
|-----------|--------|-------------|
| 1.0 | 2024-08-09 | åˆç‰ˆå…¬é–‹ |

**æœ€çµ‚ç¢ºèªæ—¥**: 2024å¹´8æœˆ9æ—¥
```

### 2.2 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®šç®¡ç†

#### lib/privacy/privacy-manager.ts
```typescript
// ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
export interface PrivacyConsent {
  userId: string
  consentType: 'marketing' | 'analytics' | 'personalization' | 'third_party'
  granted: boolean
  timestamp: string
  ipAddress: string
  source: 'registration' | 'settings' | 'popup'
}

export interface DataSubjectRequest {
  id: string
  userId: string
  requestType: 'access' | 'rectification' | 'erasure' | 'portability' | 'restriction' | 'objection'
  status: 'pending' | 'in_progress' | 'completed' | 'rejected'
  requestDate: string
  completionDate?: string
  details: string
  responseData?: any
}

export class PrivacyManager {
  // åŒæ„ç®¡ç†
  static async recordConsent(consent: Omit<PrivacyConsent, 'timestamp'>): Promise<void> {
    const consentRecord: PrivacyConsent = {
      ...consent,
      timestamp: new Date().toISOString()
    }

    await supabase
      .from('privacy_consents')
      .upsert(consentRecord, { onConflict: 'user_id,consent_type' })

    // æ³•çš„ç›£æŸ»ãƒ­ã‚°
    await this.recordPrivacyAuditLog('consent_recorded', consent.userId, consentRecord)
  }

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„çŠ¶æ³å–å¾—
  static async getUserConsents(userId: string): Promise<Record<string, boolean>> {
    const { data } = await supabase
      .from('privacy_consents')
      .select('consent_type, granted')
      .eq('user_id', userId)

    const consents: Record<string, boolean> = {}
    data?.forEach(item => {
      consents[item.consent_type] = item.granted
    })

    return consents
  }

  // ãƒ‡ãƒ¼ã‚¿ä¸»ä½“ã®æ¨©åˆ©è¡Œä½¿è¦è«‹å‡¦ç†
  static async submitDataSubjectRequest(
    userId: string,
    requestType: DataSubjectRequest['requestType'],
    details: string
  ): Promise<string> {
    const requestId = `dsr-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`

    const request: Omit<DataSubjectRequest, 'id'> = {
      id: requestId,
      userId,
      requestType,
      status: 'pending',
      requestDate: new Date().toISOString(),
      details
    }

    await supabase
      .from('data_subject_requests')
      .insert(request)

    // è‡ªå‹•å‡¦ç†å¯èƒ½ãªè¦è«‹ã®å ´åˆã¯å³åº§ã«å‡¦ç†
    if (['access', 'portability'].includes(requestType)) {
      await this.processAutomaticRequest(requestId)
    }

    // æ‹…å½“è€…ã«é€šçŸ¥
    await this.notifyPrivacyOfficer(request)

    return requestId
  }

  // ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹è¦è«‹ã®è‡ªå‹•å‡¦ç†
  private static async processAutomaticRequest(requestId: string): Promise<void> {
    const { data: request } = await supabase
      .from('data_subject_requests')
      .select('*')
      .eq('id', requestId)
      .single()

    if (!request) return

    try {
      let responseData: any

      switch (request.request_type) {
        case 'access':
          responseData = await this.generateUserDataReport(request.user_id)
          break
        case 'portability':
          responseData = await this.generatePortableDataExport(request.user_id)
          break
        default:
          return
      }

      await supabase
        .from('data_subject_requests')
        .update({
          status: 'completed',
          completion_date: new Date().toISOString(),
          response_data: responseData
        })
        .eq('id', requestId)

      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å®Œäº†é€šçŸ¥
      await this.notifyRequestCompletion(request.user_id, requestId, request.request_type)

    } catch (error) {
      await supabase
        .from('data_subject_requests')
        .update({ status: 'rejected' })
        .eq('id', requestId)
    }
  }

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
  private static async generateUserDataReport(userId: string): Promise<any> {
    const [userData, vegetableData, photoData, consentData] = await Promise.all([
      supabase.from('users').select('*').eq('id', userId).single(),
      supabase.from('vegetables').select('*').eq('created_by', userId),
      supabase.from('photos').select('*').eq('created_by', userId),
      supabase.from('privacy_consents').select('*').eq('user_id', userId)
    ])

    return {
      personal_information: userData.data,
      vegetable_records: vegetableData.data,
      photo_records: photoData.data?.map(photo => ({
        ...photo,
        storage_path: '[REDACTED]' // å®Ÿéš›ã®ãƒ‘ã‚¹ã¯å«ã‚ãªã„
      })),
      privacy_consents: consentData.data,
      export_date: new Date().toISOString(),
      retention_periods: {
        account_data: '3 years after service termination',
        vegetable_data: '1 year after service termination',
        log_data: '90 days'
      }
    }
  }

  // ãƒãƒ¼ã‚¿ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”Ÿæˆ
  private static async generatePortableDataExport(userId: string): Promise<any> {
    // æ§‹é€ åŒ–ã•ã‚ŒãŸJSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›
    const data = await this.generateUserDataReport(userId)
    
    return {
      format: 'JSON',
      encoding: 'UTF-8',
      data,
      metadata: {
        export_type: 'data_portability',
        user_id: userId,
        export_date: new Date().toISOString(),
        data_controller: 'vegetable-system.com'
      }
    }
  }

  // CookieåŒæ„ãƒãƒŠãƒ¼è¨­å®š
  static getCookieConsentConfig() {
    return {
      necessary: {
        name: 'å¿…é ˆCookie',
        description: 'ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬æ©Ÿèƒ½ã«å¿…è¦ãªCookie',
        cookies: ['session_token', 'csrf_token', 'auth_state'],
        required: true
      },
      functional: {
        name: 'æ©Ÿèƒ½æ€§Cookie', 
        description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®ä¿å­˜ãªã©ã«ä½¿ç”¨',
        cookies: ['user_preferences', 'ui_settings'],
        required: false
      },
      analytics: {
        name: 'åˆ†æCookie',
        description: 'ã‚µãƒ¼ãƒ“ã‚¹æ”¹å–„ã®ãŸã‚ã®ã‚¢ã‚¯ã‚»ã‚¹è§£æ',
        cookies: ['_ga', '_gat', 'analytics_session'],
        required: false
      },
      marketing: {
        name: 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°Cookie',
        description: 'é–¢é€£æ€§ã®é«˜ã„åºƒå‘Šé…ä¿¡ã®ãŸã‚',
        cookies: ['ad_targeting', 'campaign_tracking'],
        required: false
      }
    }
  }

  // ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ç›£æŸ»ãƒ­ã‚°
  private static async recordPrivacyAuditLog(
    action: string,
    userId: string,
    details: any
  ): Promise<void> {
    await supabase
      .from('privacy_audit_logs')
      .insert({
        action,
        user_id: userId,
        details,
        timestamp: new Date().toISOString(),
        ip_address: details.ipAddress || 'system'
      })
  }

  // ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ‹…å½“è€…ã¸ã®é€šçŸ¥
  private static async notifyPrivacyOfficer(request: Omit<DataSubjectRequest, 'id'>): Promise<void> {
    const message = `
æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ä¸»ä½“æ¨©åˆ©è¦è«‹ãŒå—ä¿¡ã•ã‚Œã¾ã—ãŸ:

- è¦è«‹ID: ${request.id}
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ID: ${request.userId}
- è¦è«‹ã‚¿ã‚¤ãƒ—: ${request.requestType}
- è©³ç´°: ${request.details}
- å—ä¿¡æ—¥æ™‚: ${request.requestDate}

è¦è«‹ã¯30æ—¥ä»¥å†…ã«å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
    `

    await fetch(process.env.SLACK_PRIVACY_WEBHOOK!, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        text: message,
        channel: '#privacy-team'
      })
    })
  }

  // è¦è«‹å®Œäº†é€šçŸ¥
  private static async notifyRequestCompletion(
    userId: string,
    requestId: string,
    requestType: string
  ): Promise<void> {
    const { data: user } = await supabase
      .from('users')
      .select('email')
      .eq('id', userId)
      .single()

    if (!user?.email) return

    // ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆSendGridç­‰ï¼‰
    await fetch('https://api.sendgrid.com/v3/mail/send', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.SENDGRID_API_KEY}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        personalizations: [{
          to: [{ email: user.email }],
          subject: 'ãƒ‡ãƒ¼ã‚¿æ¨©åˆ©è¡Œä½¿è¦è«‹ã®å‡¦ç†å®Œäº†'
        }],
        from: { email: 'privacy@vegetable-system.com' },
        content: [{
          type: 'text/html',
          value: `
            <p>ãŠå®¢æ§˜ã®ãƒ‡ãƒ¼ã‚¿æ¨©åˆ©è¡Œä½¿è¦è«‹ï¼ˆ${requestType}ï¼‰ãŒå®Œäº†ã—ã¾ã—ãŸã€‚</p>
            <p>è¦è«‹ID: ${requestId}</p>
            <p>çµæœã¯ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€è¨­å®šç”»é¢ã‹ã‚‰ã”ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚</p>
          `
        }]
      })
    })
  }
}
```

## 3. GDPRãƒ»å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ

### 3.1 æ³•çš„è¦ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### compliance/gdpr-checklist.md
```markdown
# GDPRãƒ»å€‹äººæƒ…å ±ä¿è­·æ³• ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

## âœ… GDPRå¯¾å¿œ (EU General Data Protection Regulation)

### Article 6 - å‡¦ç†ã®é©æ³•æ€§
- [ ] åŒæ„ï¼ˆæ˜ç¢ºãƒ»å…·ä½“çš„ãƒ»è‡ªç”±æ„å¿—ï¼‰
- [x] å¥‘ç´„å±¥è¡Œã®ãŸã‚
- [x] æ³•çš„ç¾©å‹™ã®éµå®ˆ
- [x] æ­£å½“åˆ©ç›Šï¼ˆãƒãƒ©ãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿæ–½æ¸ˆã¿ï¼‰

### Article 7 - åŒæ„ã®æ¡ä»¶
- [x] åŒæ„æ’¤å›ã®æ¨©åˆ©ã‚’æ˜ç¤º
- [x] åŒæ„å–å¾—æ™‚ã®è¨¼æ˜å¯èƒ½æ€§
- [x] å­ã©ã‚‚ã®åŒæ„ï¼ˆ16æ­³æœªæº€ã¯ä¿è­·è€…åŒæ„ï¼‰
- [x] åŒæ„ãƒãƒ³ãƒ‰ãƒ«åŒ–ã®ç¦æ­¢

### Article 12-22 - ãƒ‡ãƒ¼ã‚¿ä¸»ä½“ã®æ¨©åˆ©
| æ¨©åˆ© | å®Ÿè£…çŠ¶æ³ | å®Ÿè£…æ–¹æ³• |
|------|----------|----------|
| **é€æ˜æ€§ãƒ»æƒ…å ±æä¾›** | âœ…å®Œäº† | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ |
| **ã‚¢ã‚¯ã‚»ã‚¹æ¨©** | âœ…å®Œäº† | ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ |
| **è¨‚æ­£æ¨©** | âœ…å®Œäº† | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç·¨é›†æ©Ÿèƒ½ |
| **å‰Šé™¤æ¨©** | âœ…å®Œäº† | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤æ©Ÿèƒ½ |
| **å‡¦ç†åˆ¶é™æ¨©** | âš ï¸éƒ¨åˆ†å¯¾å¿œ | æ‰‹å‹•å‡¦ç† |
| **ãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£æ¨©** | âœ…å®Œäº† | JSON/CSVå‡ºåŠ› |
| **ç•°è­°æ¨©** | âš ï¸éƒ¨åˆ†å¯¾å¿œ | å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ  |

### Article 25 - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ»ãƒã‚¤ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³
- [x] ãƒ‡ãƒ¼ã‚¿æœ€å°åŒ–ã®åŸå‰‡
- [x] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·
- [x] ãƒ‡ãƒ¼ã‚¿ä¿è­·å½±éŸ¿è©•ä¾¡ï¼ˆDPIAï¼‰å®Ÿæ–½

### Article 28 - ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ï¼ˆå‡¦ç†æ¥­è€…ï¼‰
| æ¥­è€… | ã‚µãƒ¼ãƒ“ã‚¹ | DPAç· çµ | GDPRæº–æ‹  |
|------|----------|---------|----------|
| Supabase | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | âœ… | âœ… |
| Vercel | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | âœ… | âœ… |
| CloudFlare | CDNãƒ»DNS | âœ… | âœ… |
| OpenAI | AI API | âœ… | âœ… |

### Article 33-34 - ä¾µå®³é€šçŸ¥
- [x] å†…éƒ¨æ¤œçŸ¥æ‰‹é †ï¼ˆ72æ™‚é–“ä»¥å†…ï¼‰
- [x] å½“å±€é€šçŸ¥æ‰‹é †
- [x] å€‹äººã¸ã®é€šçŸ¥æ‰‹é †ï¼ˆé«˜ãƒªã‚¹ã‚¯æ™‚ï¼‰
- [x] ä¾µå®³è¨˜éŒ²ç®¡ç†

### Article 35 - ãƒ‡ãƒ¼ã‚¿ä¿è­·å½±éŸ¿è©•ä¾¡
- [x] DPIAå®Ÿæ–½åŸºæº–ã®ç­–å®š
- [x] é«˜ãƒªã‚¹ã‚¯å‡¦ç†ã®ç‰¹å®š
- [x] è©•ä¾¡æ‰‹é †æ›¸ã®ä½œæˆ
- [x] å®šæœŸè¦‹ç›´ã—æ‰‹é †

## âœ… æ—¥æœ¬ã®å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ

### å–å¾—ãƒ»åˆ©ç”¨æ®µéš
- [x] åˆ©ç”¨ç›®çš„ã®æ˜ç¤ºãƒ»é€šçŸ¥
- [x] é©æ­£å–å¾—ï¼ˆå½ã‚Šç­‰ã®ç¦æ­¢ï¼‰
- [x] æ©Ÿå¾®æƒ…å ±ã®å–ã‚Šæ‰±ã„åˆ¶é™
- [x] æœ¬äººåŒæ„ã®é©åˆ‡ãªå–å¾—

### ä¿ç®¡ãƒ»ç®¡ç†æ®µéš  
- [x] å®‰å…¨ç®¡ç†æªç½®ï¼ˆæŠ€è¡“çš„ï¼‰
- [x] å®‰å…¨ç®¡ç†æªç½®ï¼ˆçµ„ç¹”çš„ï¼‰
- [x] å¾“æ¥­è€…ã¸ã®ç›£ç£
- [x] å§”è¨—å…ˆã¸ã®ç›£ç£

### ç¬¬ä¸‰è€…æä¾›æ®µéš
- [x] æœ¬äººåŒæ„ã®åŸå‰‡
- [x] ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆæ‰‹ç¶šã
- [x] å§”è¨—ãƒ»å…±åŒåˆ©ç”¨ã®æ•´ç†
- [x] å¤–å›½ç§»è»¢ã®åŒæ„ãƒ»æƒ…å ±æä¾›

### å€‹äººã®æ¨©åˆ©å¯¾å¿œ
| æ¨©åˆ© | æ³•çš„æ ¹æ‹  | å®Ÿè£…çŠ¶æ³ |
|------|----------|----------|
| **é–‹ç¤ºè«‹æ±‚** | æ³•28æ¡ | âœ…å®Œäº† |
| **è¨‚æ­£ãƒ»è¿½åŠ ãƒ»å‰Šé™¤** | æ³•29æ¡ | âœ…å®Œäº† |
| **åˆ©ç”¨åœæ­¢ãƒ»æ¶ˆå»** | æ³•30æ¡ | âœ…å®Œäº† |
| **ç¬¬ä¸‰è€…æä¾›åœæ­¢** | æ³•31æ¡ | âœ…å®Œäº† |

### çµ„ç¹”çš„å¯¾å¿œ
- [x] å€‹äººæƒ…å ±ä¿è­·æ–¹é‡ã®ç­–å®šãƒ»å…¬è¡¨
- [x] è‹¦æƒ…å‡¦ç†ä½“åˆ¶ã®æ•´å‚™
- [x] å€‹äººæƒ…å ±ä¿è­·å§”å“¡ä¼šã¸ã®å ±å‘Šä½“åˆ¶
- [x] å®šæœŸçš„ãªè¦‹ç›´ã—ãƒ»æ”¹å–„

## ğŸ¯ ç¶™ç¶šçš„æ”¹å–„è¨ˆç”»

### çŸ­æœŸï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰
1. **å‡¦ç†åˆ¶é™æ¨©ã®å®Œå…¨å®Ÿè£…**
   - è‡ªå‹•å‡¦ç†åœæ­¢æ©Ÿèƒ½
   - åˆ¶é™çŠ¶æ…‹ã®ç®¡ç†

2. **ç•°è­°æ¨©å¯¾å¿œã®å¼·åŒ–**
   - ç•°è­°ç”³ç«‹ã¦ãƒ•ã‚©ãƒ¼ãƒ 
   - å‡¦ç†æ ¹æ‹ ã®å†è©•ä¾¡

### ä¸­æœŸï¼ˆ6ãƒ¶æœˆä»¥å†…ï¼‰
1. **åŒæ„ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å°å…¥**
   - ç´°åˆ†åŒ–ã•ã‚ŒãŸåŒæ„è¨­å®š
   - åŒæ„å±¥æ­´ã®è©³ç´°ç®¡ç†

2. **è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–**
   - DSRå‡¦ç†ã®è‡ªå‹•åŒ–æ‹¡å¼µ
   - ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç›£æŸ»ã®è‡ªå‹•åŒ–

### é•·æœŸï¼ˆ1å¹´ä»¥å†…ï¼‰
1. **å›½éš›å±•é–‹å¯¾å¿œ**
   - å„å›½æ³•åˆ¶åº¦ã¸ã®å¯¾å¿œ
   - å¤šè¨€èªãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼

2. **æ–°æŠ€è¡“ãƒ»æ–°æ³•åˆ¶ã¸ã®å¯¾å¿œ**
   - AIæ´»ç”¨æ™‚ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…®
   - æ–°ã—ã„è¦åˆ¶ã¸ã®é©å¿œ
```

ã“ã‚Œã§æ³•çš„å¯¾å¿œãƒ»åˆ©ç”¨è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®è¨­è¨ˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¬¡ã«è² è·ãƒ†ã‚¹ãƒˆãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã«é€²ã¿ã¾ã™ã€‚